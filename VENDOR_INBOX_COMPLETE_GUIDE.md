# ุฏููู ุงูุจุฑูุฏ ุงููุงุฑุฏ ููุชุงุฌุฑ ๐ฌ
# Vendor Inbox Complete Guide

## ูุธุฑุฉ ุนุงูุฉ ๐

ุชู ุฅุถุงูุฉ ุตูุญุฉ "ุงูุจุฑูุฏ ุงููุงุฑุฏ" ููุชุงุฌุฑ ููุฑู ุฌููุน ูุญุงุฏุซุงุชู ูุน ุงูุฒุจุงุฆู.

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุตูุญุฉ ุงูุจุฑูุฏ ุงููุงุฑุฏ ููุชุงุฌุฑ
- โ `lib/featured/chat/views/vendor_chat_list_screen.dart`
- โ ุนุฑุถ ุฌููุน ุงููุญุงุฏุซุงุช ูุน ุงูุฒุจุงุฆู
- โ ุนุฏุงุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
- โ ุชุฑุชูุจ ุญุณุจ ุขุฎุฑ ุฑุณุงูุฉ
- โ Pull to refresh

### 2. ุฅุถุงูุฉ ุฒุฑ ูู Control Panel
- โ ุฒุฑ "ุงูุจุฑูุฏ ุงููุงุฑุฏ" ูู `control_panel_menu.dart`
- โ ุฃููููุฉ Inbox
- โ ููุชูู ุฅูู ุตูุญุฉ ุงููุญุงุฏุซุงุช

### 3. ุงูุชุฑุฌูุงุช
- โ `inbox` - ุงูุจุฑูุฏ ุงููุงุฑุฏ / Inbox
- โ `start_chatting_with_customers` - ุงุจุฏุฃ ุจุงูุฏุฑุฏุดุฉ ูุน ุฒุจุงุฆูู

### 4. ุฅุตูุงุญุงุช ูู Models
- โ ุญุฐู `updated_at` ูู `MessageModel` (ุบูุฑ ููุฌูุฏ ูู ุงูุฌุฏูู)
- โ ุฅุถุงูุฉ Helper Functions ููู parsing ุงูุขูู
- โ ูุนุงูุฌุฉ List vs String

---

## ููููุฉ ุงููุตูู ููุจุฑูุฏ ุงููุงุฑุฏ ๐

### ููุชุงุฌุฑ:

```
1. ุงูุชุญ ูุชุฌุฑู
   โ
2. ุงุถุบุท ุนูู ุงููุงุฆูุฉ ุงูุนูููุฉ (โฎ)
   โ
3. ุงุฎุชุฑ "ุงูุจุฑูุฏ ุงููุงุฑุฏ" ๐ฌ
   โ
4. ุดุงูุฏ ุฌููุน ูุญุงุฏุซุงุชู ูุน ุงูุฒุจุงุฆู
```

---

## ุงูููุฒุงุช ๐ฏ

### ูู ุตูุญุฉ ุงูุจุฑูุฏ ุงููุงุฑุฏ:

1. **ูุงุฆูุฉ ุงููุญุงุฏุซุงุช:**
   - โ ุตูุฑุฉ ุงูุฒุจูู
   - โ ุงุณู ุงูุฒุจูู
   - โ ุขุฎุฑ ุฑุณุงูุฉ
   - โ ุงูููุช (1h, 2d, etc)
   - โ ุนุฏุงุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ

2. **ุชูููุฒ ุจุตุฑู:**
   - โ ุฎูููุฉ ุฒุฑูุงุก ูููุญุงุฏุซุงุช ุงูุฌุฏูุฏุฉ
   - โ ุฎุท ุนุฑูุถ ูููุญุงุฏุซุงุช ุบูุฑ ุงูููุฑูุกุฉ
   - โ badge ุฃุญูุฑ ูุนุฏุฏ ุงูุฑุณุงุฆู

3. **ุงููุฑุฒ:**
   - โ ุญุณุจ ุขุฎุฑ ุฑุณุงูุฉ (ุงูุฃุญุฏุซ ุฃููุงู)

4. **ุงูุชุญุฏูุซ:**
   - โ Pull to refresh ูุชุญุฏูุซ ุงููุญุงุฏุซุงุช

---

## ุงูููุฏ

### ุฅูุดุงุก ุงูุตูุญุฉ:
```dart
VendorChatListScreen(vendorId: vendorId)
```

### ูู Control Panel Menu:
```dart
MenuItemData(
  icon: Icons.inbox_rounded,
  title: 'inbox'.tr,
  onTap: () => Get.to(
    () => VendorChatListScreen(vendorId: vendorId),
  ),
),
```

---

## ุงููุฑู ุจูู ุตูุญุฉ ุงููุณุชุฎุฏู ูุงูุชุงุฌุฑ

### ูููุณุชุฎุฏู (ChatListScreen):
- ูุฑู ูุญุงุฏุซุงุชู ูุน **ุงูุชุฌุงุฑ**
- ูุนุฑุถ: ุตูุฑ ุงูุชุฌุงุฑุ ุฃุณูุงุก ุงููุชุงุฌุฑ
- ูุตู ูู: Profile โ Chats

### ููุชุงุฌุฑ (VendorChatListScreen):
- ูุฑู ูุญุงุฏุซุงุชู ูุน **ุงูุฒุจุงุฆู**
- ูุนุฑุถ: ุตูุฑ ุงูุฒุจุงุฆูุ ุฃุณูุงุก ุงูุฒุจุงุฆู
- ูุตู ูู: Store โ Menu (โฎ) โ Inbox

---

## ุชูุณูู ุงูููุช โฐ

```dart
ุงูุขู          โ "now"
ูุจู ุฏูููุฉ      โ "1m"
ูุจู ุณุงุนุฉ       โ "1h"
ูุจู ููู        โ "1d"
ูุจู 3 ุฃูุงู     โ "3d"
ูุจู ุฃุณุจูุน      โ "Oct 13"
```

---

## ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ ๐ง

### 1. MessageModel:
```dart
// โ ูุจู:
final DateTime updatedAt;  // ุบูุฑ ููุฌูุฏ ูู ุงูุฌุฏูู

// โ ุจุนุฏ:
// ุชู ุญุฐูู ุชูุงูุงู
```

### 2. ChatRepository:
```dart
// โ ูุนุงูุฌุฉ response ูู List
if (response is List && response.isNotEmpty) {
  return ConversationModel.fromMap(response.first);
}
```

### 3. ConversationModel:
```dart
// โ Helper functions ููู parsing ุงูุขูู
_parseString(value)  // ูุนุงูุฌ List, String, null
_parseInt(value)     // ูุนุงูุฌ int, String, num
```

---

## ุงูุงุฎุชุจุงุฑ โ

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

1. **ูุชุงุฌุฑ:**
   ```
   - ุงูุชุญ ูุชุฌุฑู
   - ุงุถุบุท โฎ
   - ุงุฎุชุฑ "ุงูุจุฑูุฏ ุงููุงุฑุฏ"
   - ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
   ```

2. **ูุฒุจูู:**
   ```
   - ุงูุชุญ ูุชุฌุฑ
   - ุงุถุบุท ุฃููููุฉ ุงูุฑุณุงูุฉ
   - ุฃุฑุณู ุฑุณุงูุฉ
   ```

3. **ุงูุชุญูู:**
   ```
   - ุนุฏ ููุชุงุฌุฑ
   - ุงูุชุญ ุงูุจุฑูุฏ ุงููุงุฑุฏ
   - ูุฌุจ ุฃู ุชุฑู ุงููุญุงุฏุซุฉ ุงูุฌุฏูุฏุฉ
   - ูุน ุนุฏุงุฏ "1" ููุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
   ```

---

## ููุฎุต ุงููููุงุช

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:
- โ `lib/featured/chat/views/vendor_chat_list_screen.dart`

### ุงููููุงุช ุงููุญุฏุซุฉ:
- โ `lib/featured/shop/view/widgets/control_panel_menu.dart`
- โ `lib/featured/chat/data/message_model.dart`
- โ `lib/featured/chat/data/conversation_model.dart`
- โ `lib/featured/chat/repository/chat_repository.dart`
- โ `lib/translations/en.dart`
- โ `lib/translations/ar.dart`

---

## ุงูุฎูุงุตุฉ โจ

ุงูุขู ุงูุชุงุฌุฑ ููููู:
- โ ุฑุคูุฉ ุฌููุน ูุญุงุฏุซุงุชู
- โ ูุนุฑูุฉ ุนุฏุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
- โ ุงููุตูู ุจุณูููุฉ ูู ุงููุงุฆูุฉ
- โ ูุชุญ ุฃู ูุญุงุฏุซุฉ ุจุถุบุทุฉ ูุงุญุฏุฉ

**ุงูุจุฑูุฏ ุงููุงุฑุฏ ููุชุงุฌุฑ ุฌุงูุฒ! ๐ฌโจ**

