# ุฏููู ุตูุญุฉ ุฅููุงู ุงูุทูุจ ูุน Stepper

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ุตูุญุฉ ุฌุฏูุฏุฉ `CheckoutStepperScreen` ูุฅููุงู ุนูููุฉ ุงูุดุฑุงุก ูู ุงูุณูุฉ ูุน **Stepper ุฃููู** ููุถุญ ุฎุทูุงุช ุฅุชูุงู ุงูุทูุจ.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. **Stepper ุฃููู** ๐ข
- โ 3 ุฎุทูุงุช ูุงุถุญุฉ ููุฑุฆูุฉ
- โ ุชุตููู ุนุตุฑู ูุน ุฃููููุงุช ุณูุฏุงุก
- โ ุฎุท ุฑุจุท ุจูู ุงูุฎุทูุงุช
- โ ูุคุดุฑ ุจุตุฑู ููุฎุทูุฉ ุงูุญุงููุฉ

### 2. **ุงูุฎุทูุงุช ุงูุซูุงุซ**

#### ุงูุฎุทูุฉ 1: ุงูุณูุฉ ๐
- ุนุฑุถ ุงูููุชุฌุงุช ูุฌูุนุฉ ุญุณุจ ุงูุชุฌุงุฑ
- ุฅููุงููุฉ ุงุฎุชูุงุฑ/ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูููุชุฌุงุช
- ุญุฐู ุฃู ุญูุธ ุงูููุชุฌุงุช ููุงุญูุงู (Slidable)
- ุนุฑุถ ููู ุงูุชุงุฌุฑ (VendorProfilePreview)
- ุญุณุงุจ ุงููุฌููุน ููู ุชุงุฌุฑ

#### ุงูุฎุทูุฉ 2: ุงูุนููุงู ููุณููุฉ ุงูุฏูุน ๐๐ณ
- **ุงุฎุชูุงุฑ ุงูุนููุงู**:
  - ุนุฑุถ ุงูุนูุงููู ุงููุญููุธุฉ
  - ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ
  - ุชุญุฏูุฏ ุงูุนููุงู ุงูุงูุชุฑุงุถู
- **ุงุฎุชูุงุฑ ูุณููุฉ ุงูุฏูุน**:
  - ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (COD)
  - ูุญูุธุฉ iStoreto
  - ุญุณุจ ุฅุนุฏุงุฏุงุช ุงูุชุงุฌุฑ

#### ุงูุฎุทูุฉ 3: ุงูููุฎุต ูุฅุชูุงู ุงูุทูุจ โ
- ููุฎุต ุงูููุชุฌุงุช ููู ุชุงุฌุฑ
- ุนุฑุถ ุงูุนููุงู ุงููุฎุชุงุฑ
- ุนุฑุถ ูุณููุฉ ุงูุฏูุน ุงููุฎุชุงุฑุฉ
- ุงููุฌููุน ุงูููู
- ุฒุฑ ุฅุชูุงู ุงูุทูุจ

---

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงูููู ุงูุฑุฆูุณู
```
lib/featured/cart/view/checkout_stepper_screen.dart
```

### State Management
```dart
class _CheckoutStepperScreenState extends State<CheckoutStepperScreen> {
  int _currentStep = 0; // ุงูุฎุทูุฉ ุงูุญุงููุฉ
  late ScrollController _scrollController;
  late CartController cartController;
  String selectedPaymentMethod = 'cod';
  Map<String, VendorModel?> vendorProfiles = {};
  bool isLoadingVendors = true;
}
```

### ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ

#### 1. ุงูุชููู ุจูู ุงูุฎุทูุงุช
```dart
void _nextStep() {
  // ุงูุชุญูู ูู ุงูุดุฑูุท ูุจู ุงูุงูุชูุงู
  if (_currentStep < 2) {
    setState(() {
      _currentStep++;
    });
  }
}

void _previousStep() {
  if (_currentStep > 0) {
    setState(() {
      _currentStep--;
    });
  }
}
```

#### 2. ุงูุชุญููุงุช
- **ุงูุฎุทูุฉ 1**: ุงูุชุญูู ูู ุงุฎุชูุงุฑ ููุชุฌ ูุงุญุฏ ุนูู ุงูุฃูู
- **ุงูุฎุทูุฉ 2**: ุงูุชุญูู ูู ุงุฎุชูุงุฑ ุนููุงู ูุฑูู ูุงุชู

#### 3. ุฅุชูุงู ุงูุทูุจ
```dart
Future<void> _completeOrder() async {
  // ุฅูุดุงุก ุทูุจุงุช ูููุตูุฉ ููู ุชุงุฌุฑ
  final groupedItems = cartController.groupedByVendor;
  
  for (var entry in groupedItems.entries) {
    // ุฅูุดุงุก OrderModel ููู ุชุงุฌุฑ
    // ุฅุฑุณุงู ุงูุทูุจ
    // ุญุฐู ุงูููุชุฌุงุช ูู ุงูุณูุฉ
  }
  
  // ุงูุงูุชูุงู ูุตูุญุฉ ุงููุฌุงุญ
}
```

---

## ุงูุชุตููู

### 1. **AppBar**
```dart
Container
โโโ Back Button (ุฅุฐุง ูุงูุช ุงูุฎุทูุฉ > 0)
โโโ Title (ุนููุงู ุงูุฎุทูุฉ)
โโโ Spacer (ููููุงุฒูุฉ)
```

### 2. **Stepper ุงูุฃููู**
```dart
Row
โโโ Step 1 Indicator (ุฃููููุฉ + ูุต)
โโโ Line Connector
โโโ Step 2 Indicator
โโโ Line Connector
โโโ Step 3 Indicator
```

#### ููุงุตูุงุช ูุคุดุฑ ุงูุฎุทูุฉ:
- **ุงูุญุฌู**: 40x40 px
- **ุงูุดูู**: ุฏุงุฆุฑู
- **ุงูููู ุงููุดุท**: ุฃุณูุฏ
- **ุงูููู ุบูุฑ ุงููุดุท**: ุฑูุงุฏู ูุงุชุญ
- **ุงูุฃููููุฉ**: ุจูุถุงุก ุนูุฏ ุงููุดุงุท

### 3. **ุฃุฒุฑุงุฑ ุงูุชููู**
```dart
Row
โโโ Back Button (OutlinedButton - ุฅุฐุง ูุงูุช ุงูุฎุทูุฉ > 0)
โโโ Next/Complete Button (ElevatedButton)
```

#### ููุงุตูุงุช ุงูุฃุฒุฑุงุฑ:
- **ุงูููู**: ุฃุณูุฏ
- **ุงูุดูู**: ูุณุชุทูู ูุน ุญูุงู ุฏุงุฆุฑูุฉ (12px)
- **ุงูุญุฌู**: full width ูุน padding
- **Loading**: CircularProgressIndicator ุฃุซูุงุก ุงูุฅุฑุณุงู

---

## ุงูุงุณุชุฎุฏุงู

### ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```dart
// ูู home_search_widget.dart
GestureDetector(
  onTap: () {
    Get.to(
      () => const CheckoutStepperScreen(),
      transition: Transition.rightToLeft,
    );
  },
  child: CartIcon with Badge,
)
```

### ูู ุฃู ููุงู ุขุฎุฑ
```dart
Get.to(() => const CheckoutStepperScreen());
```

---

## ุงูุชุจุนูุงุช

```dart
// Controllers
- CartController
- OrderController
- VendorController
- AuthController
- AddressService

// Models
- OrderModel
- VendorModel
- AddressModel

// Widgets
- VendorCartBlock
- AddressScreen (AddressOrder)
- PaymentMethodSelector
- CartStaticMenuItem
- VendorProfilePreview
- EmptyCartView
- CartShimmer
```

---

## ุฎุฑูุทุฉ ุงูุชุฏูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ูุชุญ CheckoutStepperScreen      โ
โ     (ูู ุฃููููุฉ ุงูุณูุฉ)              โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ุงูุฎุทูุฉ 1: ุงูุณูุฉ             โ
โ  - ุนุฑุถ ุงูููุชุฌุงุช ุญุณุจ ุงูุชุฌุงุฑ         โ
โ  - ุงุฎุชูุงุฑ ุงูููุชุฌุงุช                โ
โ  - ุญุฐู/ุญูุธ ููุชุฌุงุช                 โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ [ุงุฎุชุงุฑ ููุชุฌ ูุงุญุฏ ุนูู ุงูุฃูู]
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ุงูุฎุทูุฉ 2: ุงูุนููุงู ูุงูุฏูุน         โ
โ  - ุงุฎุชูุงุฑ/ุฅุถุงูุฉ ุนููุงู              โ
โ  - ุงุฎุชูุงุฑ ูุณููุฉ ุงูุฏูุน              โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ [ุงุฎุชุงุฑ ุนููุงู + ูุงุชู]
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      ุงูุฎุทูุฉ 3: ุงูููุฎุต              โ
โ  - ูุฑุงุฌุนุฉ ุงูููุชุฌุงุช                โ
โ  - ูุฑุงุฌุนุฉ ุงูุนููุงู                 โ
โ  - ูุฑุงุฌุนุฉ ูุณููุฉ ุงูุฏูุน             โ
โ  - ุงููุฌููุน ุงูููู                  โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ [ุฅุชูุงู ุงูุทูุจ]
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฅูุดุงุก ุทูุจุงุช ูููุตูุฉ ููู ุชุงุฌุฑ       โ
โ  - ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช          โ
โ  - ุญุฐู ูู ุงูุณูุฉ                   โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     OrderSuccessScreen             โ
โ     (ุตูุญุฉ ุงููุฌุงุญ)                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. ุญูุธ ุงูุญุงูุฉ
- โ ุญูุธ ุงูุฎุทูุฉ ุงูุญุงููุฉ ุนูุฏ ุงูุฎุฑูุฌ
- โ ุงุณุชุนุงุฏุฉ ุงูุญุงูุฉ ุนูุฏ ุงูุนูุฏุฉ

### 2. ุชุญุณูู UX
- โ Animation ููุงูุชูุงู ุจูู ุงูุฎุทูุงุช
- โ Swipe ููุงูุชูุงู ุจูู ุงูุฎุทูุงุช
- โ ุชุฃููุฏ ูุจู ุงูุฎุฑูุฌ ูู ุงูุตูุญุฉ

### 3. ุฅุถุงูุฉ ููุฒุงุช
- โ ููุฏ ุงูุฎุตู (Coupon)
- โ ููุงุญุธุงุช ุนูู ุงูุทูุจ
- โ ุฌุฏููุฉ ุงูุชูุตูู
- โ ุงุฎุชูุงุฑ ููุช ุงูุชูุตูู

---

## ุงุฎุชุจุงุฑ ุงูุตูุญุฉ

### ุณููุงุฑูู 1: ุฅุชูุงู ุทูุจ ุนุงุฏู
1. โ ูุชุญ ุงูุณูุฉ ูู ุฃููููุฉ ุงูุณูุฉ
2. โ ุงุฎุชูุงุฑ ููุชุฌุงุช
3. โ ุงูุงูุชูุงู ููุฎุทูุฉ ุงูุชุงููุฉ
4. โ ุงุฎุชูุงุฑ ุนููุงู
5. โ ุงุฎุชูุงุฑ ูุณููุฉ ุฏูุน
6. โ ุงูุงูุชูุงู ููููุฎุต
7. โ ุฅุชูุงู ุงูุทูุจ
8. โ ุนุฑุถ ุตูุญุฉ ุงููุฌุงุญ

### ุณููุงุฑูู 2: ุงูุฑุฌูุน ุจูู ุงูุฎุทูุงุช
1. โ ุงูุงูุชูุงู ููุฎุทูุฉ 2
2. โ ุงูุฑุฌูุน ููุฎุทูุฉ 1
3. โ ุชุนุฏูู ุงูููุชุฌุงุช
4. โ ุงูุงูุชูุงู ูุฌุฏุฏุงู

### ุณููุงุฑูู 3: ุงูุชุญููุงุช
1. โ ูุญุงููุฉ ุงูุงูุชูุงู ุจุฏูู ุงุฎุชูุงุฑ ููุชุฌุงุช
2. โ ุนุฑุถ ุฑุณุงูุฉ ุชูุจูู
3. โ ูุญุงููุฉ ุงูุงูุชูุงู ุจุฏูู ุงุฎุชูุงุฑ ุนููุงู
4. โ ุนุฑุถ ุฑุณุงูุฉ ุชูุจูู

---

## ุงููููุงุช ุงููุนุฏูุฉ

### 1. `lib/featured/cart/view/checkout_stepper_screen.dart`
**ุฌุฏูุฏ** - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ููู Stepper

### 2. `lib/featured/home-page/views/widgets/home_search_widget.dart`
**ูุนุฏู** - ุชุบููุฑ ุงููุฌูุฉ ูู `CartScreen` ุฅูู `CheckoutStepperScreen`

---

## ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ

| ุงูุนูุตุฑ | ุงูููู |
|--------|-------|
| Stepper Active | `Colors.black` |
| Stepper Inactive | `Colors.grey.shade200` |
| Stepper Line Active | `Colors.black` |
| Stepper Line Inactive | `Colors.grey.shade300` |
| Button Background | `Colors.black` |
| Button Text | `Colors.white` |
| Border Color | `Colors.black` |
| Price Color | `TColors.primary` |

---

## ููุงุญุธุงุช ูููุฉ

### 1. ุทูุจุงุช ูุชุนุฏุฏุฉ
- โ ูุชู ุฅูุดุงุก ุทูุจ ูููุตู ููู ุชุงุฌุฑ
- โ ูู ุทูุจ ูู `vendorId` ุฎุงุต
- โ ุงูููุชุฌุงุช ูุฌูุนุฉ ุญุณุจ ุงูุชุงุฌุฑ

### 2. ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
- โ `CartController` ููุณูุฉ
- โ `OrderController` ููุทูุจุงุช
- โ `AddressService` ููุนูุงููู
- โ ูู ุงูุชุญุฏูุซุงุช ุชุชู ุจุดูู reactive ูุน `Obx`

### 3. ุงูุชุญูู ูู ุงูุจูุงูุงุช
- โ ุงูุชุญูู ูู ุงุฎุชูุงุฑ ููุชุฌ ูุงุญุฏ ุนูู ุงูุฃูู
- โ ุงูุชุญูู ูู ูุฌูุฏ ุนููุงู
- โ ุงูุชุญูู ูู ูุฌูุฏ ุฑูู ูุงุชู
- โ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

## ุงูุฃููููุงุช ุงููุณุชุฎุฏูุฉ

| ุงูุฎุทูุฉ | ุงูุฃููููุฉ |
|--------|----------|
| ุงูุฎุทูุฉ 1 | `Icons.shopping_cart` |
| ุงูุฎุทูุฉ 2 | `Icons.location_on` |
| ุงูุฎุทูุฉ 3 | `Icons.receipt_long` |
| ุฒุฑ ุงูุชุงูู | `Icons.arrow_forward` |
| ุฒุฑ ุงูุฑุฌูุน | `Icons.arrow_back` |
| ุฒุฑ ุฅุชูุงู | `Icons.check` |

**ุฌููุน ุงูุฃููููุงุช ุจุงูููู ุงูุฃุณูุฏ** โ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** October 12, 2025
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
**ุงูุฅุตุฏุงุฑ:** 1.0

